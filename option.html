<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Options</title>

  <link rel="stylesheet" href="option.css">

  <!-- Shared Audio Script -->
  <script defer src="audio.js"></script>
</head>
<body>

  <div class="options-container">
    <h1>Options</h1>

    <div class="option-box">
      <label for="volumeControl">Volume:</label>
      <input id="volumeControl" type="range" min="0" max="1" step="0.01">
    </div>
  </div>

 <script>
    const volumeSlider = document.getElementById('volumeControl');

    // Wait for audio to be available
    function initVolumeControl() {
        const audio = window.bgAudio;
        
        if (!audio) {
            console.error('Background audio not found');
            return;
        }

        // Load saved volume
        const savedVolume = localStorage.getItem('siteVolume');
        if (savedVolume !== null) {
            volumeSlider.value = savedVolume;
            audio.volume = parseFloat(savedVolume);
        } else {
            volumeSlider.value = 1;
            audio.volume = 1;
        }

        // Update volume
        volumeSlider.addEventListener('input', () => {
            audio.volume = volumeSlider.value;
            localStorage.setItem('siteVolume', volumeSlider.value);
        });
    }

    // Initialize when audio is ready
    if (window.bgAudio) {
        initVolumeControl();
    } else {
        window.addEventListener('load', initVolumeControl);
    }
</script>


</body>
</html>
